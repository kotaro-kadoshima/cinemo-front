@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ==== シネマ背景（暗いグラデ＋ビネット） ==== */
.cinema-bg {
  background:
    radial-gradient(1200px 500px at 50% -20%, rgba(239,68,68,0.15), transparent 60%),
    radial-gradient(900px 400px at 20% 120%, rgba(59,130,246,0.10), transparent 60%),
    #000;
  position: relative;
}
.cinema-bg::after {
  /* ヴィネット */
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 55%, rgba(0,0,0,0.55) 100%);
  z-index: 0;
}

/* ==== フィルム粒子（SVGノイズ） ==== */
.film-grain::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: .08;
  mix-blend-mode: screen;
  z-index: 1;
  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'>\
    <filter id='n'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/>\
      <feColorMatrix type='saturate' values='0'/>\
    </filter>\
    <rect width='100%' height='100%' filter='url(%23n)' opacity='0.8'/>\
  </svg>");
  background-size: 160px 160px;
  animation: grainShift 6s steps(6) infinite;
}
@keyframes grainShift {
  0% { transform: translate(0,0); }
  20% { transform: translate(-10px,8px); }
  40% { transform: translate(12px,-6px); }
  60% { transform: translate(-6px,-12px); }
  80% { transform: translate(8px,6px); }
  100% { transform: translate(0,0); }
}

/* ==== スクリーン（映写機ビーム） ==== */
.projector-beam {
  position: relative;
  background:
    radial-gradient(1200px 300px at 50% 0%, rgba(255,255,255,0.06), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02) 50%, transparent 100%);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.08) inset,
    0 40px 120px rgba(255,255,255,0.05) inset;
}
.projector-beam::before {
  /* 左上から差し込む光筋 */
  content: "";
  position: absolute; inset: 0;
  background:
    conic-gradient(from 240deg at 0% 0%, rgba(255,255,255,0.12), rgba(255,255,255,0.02) 40%, transparent 60%);
  mask-image: radial-gradient(1200px 600px at 0% 0%, black 0%, transparent 70%);
  opacity: .6;
  mix-blend-mode: screen;
  pointer-events: none;
  animation: beamSweep 8s ease-in-out infinite;
}
@keyframes beamSweep {
  0%,100% { transform: translateY(0); opacity:.5; }
  50%     { transform: translateY(6px); opacity:.8; }
}

/* ==== フィルム枠（左右のパーフォレーション穴） ==== */
.film-frame {
  position: relative;
  z-index: 2;
}
.film-frame::before,
.film-frame::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0;
  width: 16px;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.07),
      rgba(255,255,255,0.07) 10px,
      transparent 10px,
      transparent 36px
    );
  border-inline: 1px solid rgba(255,255,255,0.1);
  filter: drop-shadow(0 0 8px rgba(0,0,0,0.8));
  z-index: -1;
}
.film-frame::before { left: -24px; }
.film-frame::after  { right: -24px; }

/* ==== 上下の“幕” ==== */
.cinema-curtain {
  position: fixed;
  left: 0; right: 0; top: 0; height: 72px;
  background:
    linear-gradient(180deg, rgba(0,0,0,0.7), rgba(0,0,0,0.2)),
    repeating-linear-gradient(
      90deg,
      rgba(239,68,68,.25) 0 6px,
      rgba(239,68,68,.15) 6px 12px
    );
  backdrop-filter: blur(2px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  z-index: 3;
}
.cinema-curtain.bottom {
  top: auto;
  bottom: 0;
  border-bottom: none;
  border-top: 1px solid rgba(255,255,255,0.08);
}

/* 各カードの内側にうっすら光沢 */
.cell {
  position: relative;
}
.cell::after {
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), transparent 50%);
  pointer-events:none;
  border-radius: 12px;
}

/* ===== Spotlight (中央スポットライト) ===== */
.spotlight {
  background:
    radial-gradient(ellipse at 50% 30%, rgba(255,255,255,0.16), rgba(255,255,255,0.02) 45%, transparent 60%),
    radial-gradient(ellipse at 50% 70%, rgba(255,255,255,0.08), transparent 50%);
  mix-blend-mode: screen;
}

/* ===== Film Dust (ホコリ粒子) ===== */
.film-dust {
  background-image:
    radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
    radial-gradient(rgba(255,255,255,0.04) 1px, transparent 1px);
  background-size: 3px 3px, 2px 2px;
  background-position: 0 0, 1px 1px;
  opacity: .25;
  animation: dustDrift 12s linear infinite;
  pointer-events: none;
}
@keyframes dustDrift {
  0%   { transform: translate(0,0); }
  50%  { transform: translate(-12px, 8px); }
  100% { transform: translate(0,0); }
}

/* ===== Marquee（横流しテキスト） ===== */
.marquee {
  animation: marqueeSlide 16s linear infinite;
}
@keyframes marqueeSlide {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); } /* 同文面を2回並べるなら -50% でループ */
}

/* ===== Curtains（赤い幕：ストライプ＆開幕アニメ） ===== */
.curtain {
  position: absolute;
  top: -5%;
  bottom: -5%;
  width: 55%;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(185, 28, 28, 0.95) 0 12px,
      rgba(127, 19, 19, 0.95) 12px 24px
    );
  box-shadow:
    inset 0 0 60px rgba(0,0,0,0.5),
    0 0 80px rgba(255,0,0,0.15);
  transition: transform 1.2s cubic-bezier(.22,.61,.36,1), opacity 1.2s ease;
  z-index: 20;
}
.curtain-left  { left: -2%; border-right: 1px solid rgba(255,255,255,0.08); transform: translateX(0); }
.curtain-right { right: -2%; border-left: 1px solid rgba(255,255,255,0.08); transform: translateX(0); }

/* 開幕時：左右にスライドして視界が開く */
.curtain.open.curtain-left  { transform: translateX(-105%); opacity: 0.98; }
.curtain.open.curtain-right { transform: translateX(105%);  opacity: 0.98; }

/* モバイル時は少し薄めに */
@media (max-width: 768px) {
  .curtain { width: 60%; }
}